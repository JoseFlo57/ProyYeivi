<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestión de Empleados</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        /* Estilos de carga y animaciones */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- Navbar -->
    <nav class="bg-indigo-600 shadow-lg">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between">
                <div class="flex space-x-4">
                    <div class="flex items-center py-4">
                        <i class="fas fa-users-cog text-white text-2xl mr-2"></i>
                        <span class="font-semibold text-white text-lg">Sistema de Gestión de Empleados</span>
                    </div>
                </div>
                <div class="flex items-center space-x-3">
                    <button id="theme-toggle" class="text-white hover:text-gray-200">
                        <i class="fas fa-moon"></i>
                    </button>
                    <div class="relative">
                        <button id="notif-button" class="text-white hover:text-gray-200">
                            <i class="fas fa-bell"></i>
                            <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center">3</span>
                        </button>
                    </div>
                    <div class="relative group">
                        <button class="flex items-center text-white">
                            <img src="https://randomuser.me/api/portraits/men/1.jpg" alt="Perfil" class="h-8 w-8 rounded-full mr-1">
                            <span>Admin</span>
                            <i class="fas fa-chevron-down ml-1 text-xs"></i>
                        </button>
                        <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 hidden group-hover:block z-10">
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Mi Perfil</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Configuración</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Cerrar Sesión</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <div class="w-64 bg-indigo-800 text-white shadow-lg">
            <div class="p-4">
                <h2 class="text-xl font-semibold mb-4 border-b border-indigo-500 pb-2">Dashboard</h2>
                <ul>
                    <li class="mb-2">
                        <a href="#" class="sidebar-link flex items-center p-2 rounded hover:bg-indigo-700 active-menu" data-section="dashboard">
                            <i class="fas fa-tachometer-alt w-6"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="#" class="sidebar-link flex items-center p-2 rounded hover:bg-indigo-700" data-section="altas">
                            <i class="fas fa-user-plus w-6"></i>
                            <span>Altas</span>
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="#" class="sidebar-link flex items-center p-2 rounded hover:bg-indigo-700" data-section="bajas">
                            <i class="fas fa-user-minus w-6"></i>
                            <span>Bajas</span>
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="#" class="sidebar-link flex items-center p-2 rounded hover:bg-indigo-700" data-section="cambios">
                            <i class="fas fa-user-edit w-6"></i>
                            <span>Cambios</span>
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="#" class="sidebar-link flex items-center p-2 rounded hover:bg-indigo-700" data-section="consultas">
                            <i class="fas fa-search w-6"></i>
                            <span>Consultas</span>
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="#" class="sidebar-link flex items-center p-2 rounded hover:bg-indigo-700" data-section="avanzado">
                            <i class="fas fa-database w-6"></i>
                            <span>Consultas Avanzadas</span>
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="#" class="sidebar-link flex items-center p-2 rounded hover:bg-indigo-700" data-section="procedimientos">
                            <i class="fas fa-cogs w-6"></i>
                            <span>Procedimientos</span>
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="#" class="sidebar-link flex items-center p-2 rounded hover:bg-indigo-700" data-section="reportes">
                            <i class="fas fa-chart-bar w-6"></i>
                            <span>Reportes</span>
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="#" class="sidebar-link flex items-center p-2 rounded hover:bg-indigo-700" data-section="auditoria">
                            <i class="fas fa-history w-6"></i>
                            <span>Auditoría</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 p-6">
            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section fade-in">
                <h1 class="text-2xl font-semibold mb-6">Dashboard</h1>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white rounded-lg shadow-md p-4 border-l-4 border-blue-500">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-blue-100 text-blue-500 mr-4">
                                <i class="fas fa-users text-2xl"></i>
                            </div>
                            <div>
                                <p class="text-gray-500">Total Empleados</p>
                                <p class="text-2xl font-bold">243</p>
                            </div>
                        </div>
                        <p class="text-green-500 text-sm mt-2"><i class="fas fa-arrow-up"></i> 2.5% desde el mes pasado</p>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-md p-4 border-l-4 border-green-500">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-green-100 text-green-500 mr-4">
                                <i class="fas fa-user-plus text-2xl"></i>
                            </div>
                            <div>
                                <p class="text-gray-500">Nuevas Contrataciones</p>
                                <p class="text-2xl font-bold">18</p>
                            </div>
                        </div>
                        <p class="text-green-500 text-sm mt-2"><i class="fas fa-arrow-up"></i> 5.2% desde el mes pasado</p>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-md p-4 border-l-4 border-yellow-500">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-yellow-100 text-yellow-500 mr-4">
                                <i class="fas fa-clock text-2xl"></i>
                            </div>
                            <div>
                                <p class="text-gray-500">Promedio Antigüedad</p>
                                <p class="text-2xl font-bold">4.2 años</p>
                            </div>
                        </div>
                        <p class="text-gray-500 text-sm mt-2"><i class="fas fa-minus"></i> Sin cambios</p>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-md p-4 border-l-4 border-red-500">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-red-100 text-red-500 mr-4">
                                <i class="fas fa-user-minus text-2xl"></i>
                            </div>
                            <div>
                                <p class="text-gray-500">Salidas</p>
                                <p class="text-2xl font-bold">7</p>
                            </div>
                        </div>
                        <p class="text-red-500 text-sm mt-2"><i class="fas fa-arrow-down"></i> 1.3% desde el mes pasado</p>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                    <div class="lg:col-span-2 bg-white rounded-lg shadow-md p-4">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-lg font-semibold">Empleados por Departamento</h2>
                            <div class="flex space-x-2">
                                <button class="px-2 py-1 text-xs rounded bg-gray-200 hover:bg-gray-300">Mes</button>
                                <button class="px-2 py-1 text-xs rounded bg-blue-500 text-white hover:bg-blue-600">Año</button>
                                <button class="px-2 py-1 text-xs rounded bg-gray-200 hover:bg-gray-300">Todo</button>
                            </div>
                        </div>
                        <canvas id="departmentChart" width="400" height="200"></canvas>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-md p-4">
                        <h2 class="text-lg font-semibold mb-4">Distribución por Género</h2>
                        <canvas id="genderChart" width="400" height="200"></canvas>
                        <div class="grid grid-cols-2 gap-4 mt-4">
                            <div class="text-center">
                                <p class="text-sm text-gray-500">Hombres</p>
                                <p class="text-xl font-semibold">58%</p>
                            </div>
                            <div class="text-center">
                                <p class="text-sm text-gray-500">Mujeres</p>
                                <p class="text-xl font-semibold">42%</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-md p-4 mb-8">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-lg font-semibold">Empleados Recientes</h2>
                        <a href="#" class="text-blue-500 hover:text-blue-700 text-sm">Ver todos</a>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white">
                            <thead>
                                <tr class="bg-gray-100 text-gray-600 text-left text-sm font-semibold uppercase">
                                    <th class="py-3 px-4 rounded-tl-lg">ID</th>
                                    <th class="py-3 px-4">Nombre</th>
                                    <th class="py-3 px-4">Departamento</th>
                                    <th class="py-3 px-4">Cargo</th>
                                    <th class="py-3 px-4">Fecha Inicio</th>
                                    <th class="py-3 px-4 rounded-tr-lg">Estado</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-600 text-sm">
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP001</td>
                                    <td class="py-3 px-4">María García</td>
                                    <td class="py-3 px-4">Desarrollo</td>
                                    <td class="py-3 px-4">Desarrollador Senior</td>
                                    <td class="py-3 px-4">15/05/2023</td>
                                    <td class="py-3 px-4"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">Activo</span></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP002</td>
                                    <td class="py-3 px-4">Juan Pérez</td>
                                    <td class="py-3 px-4">Marketing</td>
                                    <td class="py-3 px-4">Analista de Datos</td>
                                    <td class="py-3 px-4">03/06/2023</td>
                                    <td class="py-3 px-4"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">Activo</span></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP003</td>
                                    <td class="py-3 px-4">Ana Martínez</td>
                                    <td class="py-3 px-4">Recursos Humanos</td>
                                    <td class="py-3 px-4">Asistente</td>
                                    <td class="py-3 px-4">20/06/2023</td>
                                    <td class="py-3 px-4"><span class="bg-yellow-100 text-yellow-800 rounded-full px-2 py-1 text-xs">En Prueba</span></td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP004</td>
                                    <td class="py-3 px-4">Carlos López</td>
                                    <td class="py-3 px-4">Ventas</td>
                                    <td class="py-3 px-4">Representante</td>
                                    <td class="py-3 px-4">02/07/2023</td>
                                    <td class="py-3 px-4"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">Activo</span></td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP005</td>
                                    <td class="py-3 px-4">Laura Sánchez</td>
                                    <td class="py-3 px-4">Finanzas</td>
                                    <td class="py-3 px-4">Contador</td>
                                    <td class="py-3 px-4">10/07/2023</td>
                                    <td class="py-3 px-4"><span class="bg-yellow-100 text-yellow-800 rounded-full px-2 py-1 text-xs">En Prueba</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-white rounded-lg shadow-md p-4">
                        <h2 class="text-lg font-semibold mb-4">Actividad Reciente</h2>
                        <div class="space-y-4">
                            <div class="flex items-start">
                                <div class="rounded-full bg-blue-100 p-2 mr-4">
                                    <i class="fas fa-user-plus text-blue-500"></i>
                                </div>
                                <div>
                                    <p class="font-semibold">Nuevo empleado registrado</p>
                                    <p class="text-sm text-gray-500">Laura Sánchez fue registrada como Contador en el departamento de Finanzas.</p>
                                    <p class="text-xs text-gray-400 mt-1">Hace 3 días</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="rounded-full bg-green-100 p-2 mr-4">
                                    <i class="fas fa-user-edit text-green-500"></i>
                                </div>
                                <div>
                                    <p class="font-semibold">Información actualizada</p>
                                    <p class="text-sm text-gray-500">Juan Pérez fue actualizado - cambio de departamento de IT a Marketing.</p>
                                    <p class="text-xs text-gray-400 mt-1">Hace 5 días</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="rounded-full bg-red-100 p-2 mr-4">
                                    <i class="fas fa-user-minus text-red-500"></i>
                                </div>
                                <div>
                                    <p class="font-semibold">Empleado dado de baja</p>
                                    <p class="text-sm text-gray-500">Roberto Gómez fue dado de baja del sistema.</p>
                                    <p class="text-xs text-gray-400 mt-1">Hace 1 semana</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="rounded-full bg-purple-100 p-2 mr-4">
                                    <i class="fas fa-database text-purple-500"></i>
                                </div>
                                <div>
                                    <p class="font-semibold">Consulta avanzada ejecutada</p>
                                    <p class="text-sm text-gray-500">Se ejecutó el reporte de rotación de personal para Q2 2023.</p>
                                    <p class="text-xs text-gray-400 mt-1">Hace 1 semana</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-md p-4">
                        <h2 class="text-lg font-semibold mb-4">Próximos Eventos</h2>
                        <div class="space-y-4">
                            <div class="flex items-start">
                                <div class="rounded-full bg-orange-100 p-2 mr-4">
                                    <i class="fas fa-calendar-alt text-orange-500"></i>
                                </div>
                                <div>
                                    <p class="font-semibold">Revisión de Desempeño</p>
                                    <p class="text-sm text-gray-500">Programada para el departamento de Desarrollo.</p>
                                    <p class="text-xs text-gray-400 mt-1">En 2 días</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="rounded-full bg-indigo-100 p-2 mr-4">
                                    <i class="fas fa-graduation-cap text-indigo-500"></i>
                                </div>
                                <div>
                                    <p class="font-semibold">Capacitación de Seguridad</p>
                                    <p class="text-sm text-gray-500">Obligatoria para todos los empleados.</p>
                                    <p class="text-xs text-gray-400 mt-1">En 1 semana</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="rounded-full bg-teal-100 p-2 mr-4">
                                    <i class="fas fa-users text-teal-500"></i>
                                </div>
                                <div>
                                    <p class="font-semibold">Reunión de Equipo</p>
                                    <p class="text-sm text-gray-500">Planeación del tercer trimestre.</p>
                                    <p class="text-xs text-gray-400 mt-1">En 2 semanas</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="rounded-full bg-pink-100 p-2 mr-4">
                                    <i class="fas fa-birthday-cake text-pink-500"></i>
                                </div>
                                <div>
                                    <p class="font-semibold">Cumpleaños de Empleados</p>
                                    <p class="text-sm text-gray-500">Celebración para los cumpleaños de Agosto.</p>
                                    <p class="text-xs text-gray-400 mt-1">En 3 semanas</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Altas Section -->
            <section id="altas" class="content-section hidden">
                <h1 class="text-2xl font-semibold mb-6">Alta de Empleados</h1>
                
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <h2 class="text-lg font-semibold mb-4 border-b pb-2">Información Personal</h2>
                    
                    <form id="employee-form" class="space-y-6" method="POST" action="crear_empleado.php">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="firstName" class="block text-sm font-medium text-gray-700 mb-1">Nombre(s) *</label>
                                <input type="text" id="firstName" name="nombres" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                            </div>
                            
                            <div>
                                <label for="lastName" class="block text-sm font-medium text-gray-700 mb-1">Apellido(s) *</label>
                                <input type="text" id="lastName" name="apellidos" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                            </div>
                            
                            <div>
                                <label for="dateOfBirth" class="block text-sm font-medium text-gray-700 mb-1">Fecha de Nacimiento *</label>
                                <input type="date" id="dateOfBirth" name="fecha_nacimiento" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                            </div>
                            
                            <div>
                                <label for="gender" class="block text-sm font-medium text-gray-700 mb-1">Género *</label>
                                <select id="gender" name="genero" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                                    <option value="">Seleccionar</option>
                                    <option value="Masculino">Masculino</option>
                                    <option value="Femenino">Femenino</option>
                                    <option value="Otro">Otro</option>
                                </select>
                            </div>
                            
                            <div>
                                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Correo Electrónico *</label>
                                <input type="email" id="email" name="correo_electronico" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                            </div>
                            
                            <div>
                                <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Teléfono *</label>
                                <input type="tel" id="phone" name="telefono" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                            </div>
                            
                            <div>
                                <label for="address" class="block text-sm font-medium text-gray-700 mb-1">Dirección</label>
                                <input type="text" id="address" name="direccion" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            </div>
                            
                            <div>
                                <label for="city" class="block text-sm font-medium text-gray-700 mb-1">Ciudad</label>
                                <input type="text" id="city" name="ciudad" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            </div>
                        </div>
                        
                        <h2 class="text-lg font-semibold mb-4 border-b pb-2 pt-4">Información Laboral</h2>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="employeeId" class="block text-sm font-medium text-gray-700 mb-1">ID de Empleado *</label>
                                <input type="text" id="employeeId" name="id_empleado" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                            </div>
                            
                            <div>
                                <label for="hireDate" class="block text-sm font-medium text-gray-700 mb-1">Fecha de Contratación *</label>
                                <input type="date" id="hireDate" name="fecha_contratacion" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                            </div>
                            
                            <div>
                                <label for="department" class="block text-sm font-medium text-gray-700 mb-1">Departamento *</label>
                                <select id="department" name="departamento" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                                    <option value="">Seleccionar</option>
                                    <option value="Ventas">Ventas</option>
                                    <option value="TI">TI</option>
                                    <option value="Recursos Humanos">Recursos Humanos</option>
                                    <option value="Finanzas">Finanzas</option>
                                    <option value="Operaciones">Operaciones</option>
                                    <option value="Marketing">Marketing</option>
                                </select>
                            </div>
                            
                            <div>
                                <label for="position" class="block text-sm font-medium text-gray-700 mb-1">Cargo *</label>
                                <input type="text" id="position" name="cargo" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                            </div>
                            
                            <div>
                                <label for="salary" class="block text-sm font-medium text-gray-700 mb-1">Salario *</label>
                                <input type="number" id="salary" name="salario" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                            </div>
                            
                            <div>
                                <label for="supervisor" class="block text-sm font-medium text-gray-700 mb-1">Supervisor *</label>
                                <select id="supervisor" name="supervisor" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                                    <option value="No">No</option>
                                    <option value="Sí">Sí</option>
                                </select>
                            </div>
                        </div>
                        
                        <h2 class="text-lg font-semibold mb-4 border-b pb-2 pt-4">Documentos y Observaciones</h2>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="documents" class="block text-sm font-medium text-gray-700 mb-1">Documentos</label>
                                <input type="file" id="documents" name="documentos" multiple class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                <p class="text-xs text-gray-500 mt-1">Puede seleccionar múltiples archivos (PDF, JPG, PNG)</p>
                            </div>
                            
                            <div>
                                <label for="notes" class="block text-sm font-medium text-gray-700 mb-1">Notas Adicionales</label>
                                <textarea id="notes" name="notas_adicionales" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"></textarea>
                            </div>
                        </div>
                        
                        <div class="flex justify-end space-x-4 pt-4">
                            <button type="button" class="bg-white border border-gray-300 rounded-md shadow-sm py-2 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                Cancelar
                            </button>
                            <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                Guardar Empleado
                            </button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Bajas Section -->
            <section id="bajas" class="content-section hidden">
                <h1 class="text-2xl font-semibold mb-6">Baja de Empleados</h1>
                
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <div class="mb-6">
                        <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                            <div class="flex flex-col md:flex-row md:space-x-4 space-y-2 md:space-y-0 mb-4 md:mb-0">
                                <div class="relative">
                                    <input type="text" placeholder="Buscar empleado..." class="pl-10 pr-4 py-2 rounded-md border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 w-full">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i class="fas fa-search text-gray-400"></i>
                                    </div>
                                </div>
                                <select class="rounded-md border border-gray-300 p-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                    <option value="">Todos los departamentos</option>
                                    <option value="IT">IT</option>
                                    <option value="RRHH">Recursos Humanos</option>
                                    <option value="VENTAS">Ventas</option>
                                    <option value="MARKETING">Marketing</option>
                                    <option value="FINANZAS">Finanzas</option>
                                    <option value="OPERACIONES">Operaciones</option>
                                </select>
                            </div>
                            <div>
                                <button class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded flex items-center disabled:bg-red-300 disabled:cursor-not-allowed" disabled>
                                    <i class="fas fa-user-minus mr-2"></i>
                                    Dar de Baja Seleccionados
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white">
                            <thead>
                                <tr class="bg-gray-100 text-gray-600 text-left text-sm font-semibold uppercase">
                                    <th class="py-3 px-4 rounded-tl-lg">
                                        <input type="checkbox" class="form-checkbox h-4 w-4 text-indigo-600 rounded focus:ring-indigo-500 cursor-pointer">
                                    </th>
                                    <th class="py-3 px-4">ID</th>
                                    <th class="py-3 px-4">Nombre</th>
                                    <th class="py-3 px-4">Departamento</th>
                                    <th class="py-3 px-4">Cargo</th>
                                    <th class="py-3 px-4">Fecha Inicio</th>
                                    <th class="py-3 px-4">Estado</th>
                                    <th class="py-3 px-4 rounded-tr-lg">Acciones</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-600 text-sm">
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">
                                        <input type="checkbox" class="form-checkbox h-4 w-4 text-indigo-600 rounded focus:ring-indigo-500 cursor-pointer">
                                    </td>
                                    <td class="py-3 px-4">EMP001</td>
                                    <td class="py-3 px-4">María García</td>
                                    <td class="py-3 px-4">Desarrollo</td>
                                    <td class="py-3 px-4">Desarrollador Senior</td>
                                    <td class="py-3 px-4">15/05/2023</td>
                                    <td class="py-3 px-4"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">Activo</span></td>
                                    <td class="py-3 px-4 flex space-x-2">
                                        <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                        <button class="bg-red-500 hover:bg-red-600 text-white p-1 rounded" onclick="showTerminationModal()">
                                            <i class="fas fa-user-minus text-xs"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">
                                        <input type="checkbox" class="form-checkbox h-4 w-4 text-indigo-600 rounded focus:ring-indigo-500 cursor-pointer">
                                    </td>
                                    <td class="py-3 px-4">EMP002</td>
                                    <td class="py-3 px-4">Juan Pérez</td>
                                    <td class="py-3 px-4">Marketing</td>
                                    <td class="py-3 px-4">Analista de Datos</td>
                                    <td class="py-3 px-4">03/06/2023</td>
                                    <td class="py-3 px-4"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">Activo</span></td>
                                    <td class="py-3 px-4 flex space-x-2">
                                        <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                        <button class="bg-red-500 hover:bg-red-600 text-white p-1 rounded" onclick="showTerminationModal()">
                                            <i class="fas fa-user-minus text-xs"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">
                                        <input type="checkbox" class="form-checkbox h-4 w-4 text-indigo-600 rounded focus:ring-indigo-500 cursor-pointer">
                                    </td>
                                    <td class="py-3 px-4">EMP003</td>
                                    <td class="py-3 px-4">Ana Martínez</td>
                                    <td class="py-3 px-4">Recursos Humanos</td>
                                    <td class="py-3 px-4">Asistente</td>
                                    <td class="py-3 px-4">20/06/2023</td>
                                    <td class="py-3 px-4"><span class="bg-yellow-100 text-yellow-800 rounded-full px-2 py-1 text-xs">En Prueba</span></td>
                                    <td class="py-3 px-4 flex space-x-2">
                                        <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                        <button class="bg-red-500 hover:bg-red-600 text-white p-1 rounded" onclick="showTerminationModal()">
                                            <i class="fas fa-user-minus text-xs"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">
                                        <input type="checkbox" class="form-checkbox h-4 w-4 text-indigo-600 rounded focus:ring-indigo-500 cursor-pointer">
                                    </td>
                                    <td class="py-3 px-4">EMP004</td>
                                    <td class="py-3 px-4">Carlos López</td>
                                    <td class="py-3 px-4">Ventas</td>
                                    <td class="py-3 px-4">Representante</td>
                                    <td class="py-3 px-4">02/07/2023</td>
                                    <td class="py-3 px-4"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">Activo</span></td>
                                    <td class="py-3 px-4 flex space-x-2">
                                        <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                        <button class="bg-red-500 hover:bg-red-600 text-white p-1 rounded" onclick="showTerminationModal()">
                                            <i class="fas fa-user-minus text-xs"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="py-3 px-4">
                                        <input type="checkbox" class="form-checkbox h-4 w-4 text-indigo-600 rounded focus:ring-indigo-500 cursor-pointer">
                                    </td>
                                    <td class="py-3 px-4">EMP005</td>
                                    <td class="py-3 px-4">Laura Sánchez</td>
                                    <td class="py-3 px-4">Finanzas</td>
                                    <td class="py-3 px-4">Contador</td>
                                    <td class="py-3 px-4">10/07/2023</td>
                                    <td class="py-3 px-4"><span class="bg-yellow-100 text-yellow-800 rounded-full px-2 py-1 text-xs">En Prueba</span></td>
                                    <td class="py-3 px-4 flex space-x-2">
                                        <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                        <button class="bg-red-500 hover:bg-red-600 text-white p-1 rounded" onclick="showTerminationModal()">
                                            <i class="fas fa-user-minus text-xs"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="flex justify-between items-center mt-6">
                        <div class="text-sm text-gray-500">
                            Mostrando 1-5 de 243 empleados
                        </div>
                        <div class="flex space-x-1">
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-500 hover:bg-gray-50 disabled:opacity-50" disabled>
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="px-3 py-1 rounded border border-gray-300 bg-indigo-500 text-white">1</button>
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">2</button>
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">3</button>
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">4</button>
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">5</button>
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-500 hover:bg-gray-50">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Cambios Section -->
            <section id="cambios" class="content-section hidden">
                <h1 class="text-2xl font-semibold mb-6">Modificación de Empleados</h1>
                
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <div class="mb-6">
                        <div class="flex flex-col md:flex-row md:items-center md:justify-between">
                            <div class="flex flex-col md:flex-row md:space-x-4 space-y-2 md:space-y-0 mb-4 md:mb-0">
                                <div class="relative">
                                    <input type="text" placeholder="Buscar empleado..." class="pl-10 pr-4 py-2 rounded-md border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 w-full">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i class="fas fa-search text-gray-400"></i>
                                    </div>
                                </div>
                                <select class="rounded-md border border-gray-300 p-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                    <option value="">Todos los departamentos</option>
                                    <option value="IT">IT</option>
                                    <option value="RRHH">Recursos Humanos</option>
                                    <option value="VENTAS">Ventas</option>
                                    <option value="MARKETING">Marketing</option>
                                    <option value="FINANZAS">Finanzas</option>
                                    <option value="OPERACIONES">Operaciones</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white">
                            <thead>
                                <tr class="bg-gray-100 text-gray-600 text-left text-sm font-semibold uppercase">
                                    <th class="py-3 px-4 rounded-tl-lg">ID</th>
                                    <th class="py-3 px-4">Nombre</th>
                                    <th class="py-3 px-4">Departamento</th>
                                    <th class="py-3 px-4">Cargo</th>
                                    <th class="py-3 px-4">Fecha Inicio</th>
                                    <th class="py-3 px-4">Estado</th>
                                    <th class="py-3 px-4 rounded-tr-lg">Acciones</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-600 text-sm">
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP001</td>
                                    <td class="py-3 px-4">María García</td>
                                    <td class="py-3 px-4">Desarrollo</td>
                                    <td class="py-3 px-4">Desarrollador Senior</td>
                                    <td class="py-3 px-4">15/05/2023</td>
                                    <td class="py-3 px-4"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">Activo</span></td>
                                    <td class="py-3 px-4 flex space-x-2">
                                        <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                        <button class="bg-yellow-500 hover:bg-yellow-600 text-white p-1 rounded" onclick="showEditModal()">
                                            <i class="fas fa-edit text-xs"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP002</td>
                                    <td class="py-3 px-4">Juan Pérez</td>
                                    <td class="py-3 px-4">Marketing</td>
                                    <td class="py-3 px-4">Analista de Datos</td>
                                    <td class="py-3 px-4">03/06/2023</td>
                                    <td class="py-3 px-4"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">Activo</span></td>
                                    <td class="py-3 px-4 flex space-x-2">
                                        <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                        <button class="bg-yellow-500 hover:bg-yellow-600 text-white p-1 rounded" onclick="showEditModal()">
                                            <i class="fas fa-edit text-xs"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP003</td>
                                    <td class="py-3 px-4">Ana Martínez</td>
                                    <td class="py-3 px-4">Recursos Humanos</td>
                                    <td class="py-3 px-4">Asistente</td>
                                    <td class="py-3 px-4">20/06/2023</td>
                                    <td class="py-3 px-4"><span class="bg-yellow-100 text-yellow-800 rounded-full px-2 py-1 text-xs">En Prueba</span></td>
                                    <td class="py-3 px-4 flex space-x-2">
                                        <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                        <button class="bg-yellow-500 hover:bg-yellow-600 text-white p-1 rounded" onclick="showEditModal()">
                                            <i class="fas fa-edit text-xs"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP004</td>
                                    <td class="py-3 px-4">Carlos López</td>
                                    <td class="py-3 px-4">Ventas</td>
                                    <td class="py-3 px-4">Representante</td>
                                    <td class="py-3 px-4">02/07/2023</td>
                                    <td class="py-3 px-4"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">Activo</span></td>
                                    <td class="py-3 px-4 flex space-x-2">
                                        <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                        <button class="bg-yellow-500 hover:bg-yellow-600 text-white p-1 rounded" onclick="showEditModal()">
                                            <i class="fas fa-edit text-xs"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP005</td>
                                    <td class="py-3 px-4">Laura Sánchez</td>
                                    <td class="py-3 px-4">Finanzas</td>
                                    <td class="py-3 px-4">Contador</td>
                                    <td class="py-3 px-4">10/07/2023</td>
                                    <td class="py-3 px-4"><span class="bg-yellow-100 text-yellow-800 rounded-full px-2 py-1 text-xs">En Prueba</span></td>
                                    <td class="py-3 px-4 flex space-x-2">
                                        <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                        <button class="bg-yellow-500 hover:bg-yellow-600 text-white p-1 rounded" onclick="showEditModal()">
                                            <i class="fas fa-edit text-xs"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="flex justify-between items-center mt-6">
                        <div class="text-sm text-gray-500">
                            Mostrando 1-5 de 243 empleados
                        </div>
                        <div class="flex space-x-1">
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-500 hover:bg-gray-50 disabled:opacity-50" disabled>
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="px-3 py-1 rounded border border-gray-300 bg-indigo-500 text-white">1</button>
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">2</button>
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">3</button>
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">4</button>
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">5</button>
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-500 hover:bg-gray-50">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Consultas Section -->
            <section id="consultas" class="content-section hidden">
                <h1 class="text-2xl font-semibold mb-6">Consultas</h1>
                
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <div class="mb-6">
                        <div class="flex flex-col md:flex-row md:space-x-4 space-y-2 md:space-y-0">
                            <div class="relative flex-grow">
                                <input type="text" placeholder="Buscar empleado..." class="pl-10 pr-4 py-2 rounded-md border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 w-full">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <i class="fas fa-search text-gray-400"></i>
                                </div>
                            </div>
                            <select class="rounded-md border border-gray-300 p-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                <option value="">Todos los departamentos</option>
                                <option value="IT">IT</option>
                                <option value="RRHH">Recursos Humanos</option>
                                <option value="VENTAS">Ventas</option>
                                <option value="MARKETING">Marketing</option>
                                <option value="FINANZAS">Finanzas</option>
                                <option value="OPERACIONES">Operaciones</option>
                            </select>
                            <select class="rounded-md border border-gray-300 p-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                <option value="">Todos los estados</option>
                                <option value="ACTIVO">Activo</option>
                                <option value="PRUEBA">En Prueba</option>
                                <option value="BAJA">Baja</option>
                            </select>
                            <button class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded">
                                <i class="fas fa-filter mr-2"></i>
                                Filtrar
                            </button>
                        </div>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white">
                            <thead>
                                <tr class="bg-gray-100 text-gray-600 text-left text-sm font-semibold uppercase">
                                    <th class="py-3 px-4 rounded-tl-lg cursor-pointer">
                                        ID <i class="fas fa-sort"></i>
                                    </th>
                                    <th class="py-3 px-4 cursor-pointer">
                                        Nombre <i class="fas fa-sort"></i>
                                    </th>
                                    <th class="py-3 px-4 cursor-pointer">
                                        Departamento <i class="fas fa-sort"></i>
                                    </th>
                                    <th class="py-3 px-4 cursor-pointer">
                                        Cargo <i class="fas fa-sort"></i>
                                    </th>
                                    <th class="py-3 px-4 cursor-pointer">
                                        Fecha Inicio <i class="fas fa-sort"></i>
                                    </th>
                                    <th class="py-3 px-4 cursor-pointer">
                                        Salario <i class="fas fa-sort"></i>
                                    </th>
                                    <th class="py-3 px-4 cursor-pointer">
                                        Estado <i class="fas fa-sort"></i>
                                    </th>
                                    <th class="py-3 px-4 rounded-tr-lg">Acciones</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-600 text-sm">
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP001</td>
                                    <td class="py-3 px-4">María García</td>
                                    <td class="py-3 px-4">Desarrollo</td>
                                    <td class="py-3 px-4">Desarrollador Senior</td>
                                    <td class="py-3 px-4">15/05/2023</td>
                                    <td class="py-3 px-4">$85,000</td>
                                    <td class="py-3 px-4"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">Activo</span></td>
                                    <td class="py-3 px-4">
                                        <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP002</td>
                                    <td class="py-3 px-4">Juan Pérez</td>
                                    <td class="py-3 px-4">Marketing</td>
                                    <td class="py-3 px-4">Analista de Datos</td>
                                    <td class="py-3 px-4">03/06/2023</td>
                                    <td class="py-3 px-4">$65,000</td>
                                    <td class="py-3 px-4"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">Activo</span></td>
                                    <td class="py-3 px-4">
                                        <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP003</td>
                                    <td class="py-3 px-4">Ana Martínez</td>
                                    <td class="py-3 px-4">Recursos Humanos</td>
                                    <td class="py-3 px-4">Asistente</td>
                                    <td class="py-3 px-4">20/06/2023</td>
                                    <td class="py-3 px-4">$45,000</td>
                                    <td class="py-3 px-4"><span class="bg-yellow-100 text-yellow-800 rounded-full px-2 py-1 text-xs">En Prueba</span></td>
                                    <td class="py-3 px-4">
                                        <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP004</td>
                                    <td class="py-3 px-4">Carlos López</td>
                                    <td class="py-3 px-4">Ventas</td>
                                    <td class="py-3 px-4">Representante</td>
                                    <td class="py-3 px-4">02/07/2023</td>
                                    <td class="py-3 px-4">$55,000</td>
                                    <td class="py-3 px-4"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">Activo</span></td>
                                    <td class="py-3 px-4">
                                        <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP005</td>
                                    <td class="py-3 px-4">Laura Sánchez</td>
                                    <td class="py-3 px-4">Finanzas</td>
                                    <td class="py-3 px-4">Contador</td>
                                    <td class="py-3 px-4">10/07/2023</td>
                                    <td class="py-3 px-4">$60,000</td>
                                    <td class="py-3 px-4"><span class="bg-yellow-100 text-yellow-800 rounded-full px-2 py-1 text-xs">En Prueba</span></td>
                                    <td class="py-3 px-4">
                                        <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="flex flex-col md:flex-row justify-between items-center mt-6">
                        <div class="text-sm text-gray-500 mb-4 md:mb-0">
                            Mostrando 1-5 de 243 empleados
                        </div>
                        <div class="flex space-x-2">
                            <button class="bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-4 rounded text-sm">
                                <i class="fas fa-file-excel mr-1"></i> Excel
                            </button>
                            <button class="bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-4 rounded text-sm">
                                <i class="fas fa-file-pdf mr-1"></i> PDF
                            </button>
                            <button class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-1 px-4 rounded text-sm">
                                <i class="fas fa-print mr-1"></i> Imprimir
                            </button>
                        </div>
                        <div class="flex space-x-1 mt-4 md:mt-0">
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-500 hover:bg-gray-50 disabled:opacity-50" disabled>
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="px-3 py-1 rounded border border-gray-300 bg-indigo-500 text-white">1</button>
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">2</button>
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">3</button>
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">4</button>
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">5</button>
                            <button class="px-3 py-1 rounded border border-gray-300 text-gray-500 hover:bg-gray-50">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Consultas Avanzadas Section -->
            <section id="avanzado" class="content-section hidden">
                <h1 class="text-2xl font-semibold mb-6">Consultas Avanzadas</h1>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                    <div class="lg:col-span-2 bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-lg font-semibold mb-4 border-b pb-2">Editor SQL</h2>
                        <div class="mb-4">
                            <label for="query" class="block text-sm font-medium text-gray-700 mb-1">Consulta SQL</label>
                            <textarea id="query" name="query" rows="8" class="w-full p-3 border border-gray-300 rounded-md bg-gray-50 font-mono text-gray-700 resize-none focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">SELECT 
    e.employee_id, 
    e.first_name, 
    e.last_name, 
    d.department_name, 
    e.salary 
FROM 
    employees e 
JOIN 
    departments d ON e.department_id = d.department_id 
WHERE 
    e.salary > (
        SELECT AVG(salary) 
        FROM employees
    )
ORDER BY 
    e.salary DESC;</textarea>
                        </div>
                        <div class="flex justify-between">
                            <div>
                                <button class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded mr-2">
                                    <i class="fas fa-play mr-2"></i>
                                    Ejecutar
                                </button>
                                <button class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded">
                                    <i class="fas fa-save mr-2"></i>
                                    Guardar
                                </button>
                            </div>
                            <div>
                                <button class="bg-red-100 hover:bg-red-200 text-red-700 font-bold py-2 px-4 rounded">
                                    <i class="fas fa-trash-alt mr-2"></i>
                                    Limpiar
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-lg font-semibold mb-4 border-b pb-2">Consultas Predefinidas</h2>
                        <ul class="space-y-2">
                            <li>
                                <button class="w-full text-left p-2 bg-gray-50 hover:bg-gray-100 rounded flex justify-between items-center" onclick="loadQuery('salaryAboveAvg')">
                                    <span>Salario Superior al Promedio</span>
                                    <i class="fas fa-chevron-right text-gray-400"></i>
                                </button>
                            </li>
                            <li>
                                <button class="w-full text-left p-2 bg-gray-50 hover:bg-gray-100 rounded flex justify-between items-center" onclick="loadQuery('departmentStats')">
                                    <span>Estadísticas por Departamento</span>
                                    <i class="fas fa-chevron-right text-gray-400"></i>
                                </button>
                            </li>
                            <li>
                                <button class="w-full text-left p-2 bg-gray-50 hover:bg-gray-100 rounded flex justify-between items-center" onclick="loadQuery('newEmployees')">
                                    <span>Empleados Nuevos (Últimos 90 días)</span>
                                    <i class="fas fa-chevron-right text-gray-400"></i>
                                </button>
                            </li>
                            <li>
                                <button class="w-full text-left p-2 bg-gray-50 hover:bg-gray-100 rounded flex justify-between items-center" onclick="loadQuery('topPerformers')">
                                    <span>Top 10 Empleados por Salario</span>
                                    <i class="fas fa-chevron-right text-gray-400"></i>
                                </button>
                            </li>
                            <li>
                                <button class="w-full text-left p-2 bg-gray-50 hover:bg-gray-100 rounded flex justify-between items-center" onclick="loadQuery('employeesNoManager')">
                                    <span>Empleados sin Supervisor</span>
                                    <i class="fas fa-chevron-right text-gray-400"></i>
                                </button>
                            </li>
                            <li>
                                <button class="w-full text-left p-2 bg-gray-50 hover:bg-gray-100 rounded flex justify-between items-center" onclick="loadQuery('departmentHierarchy')">
                                    <span>Jerarquía de Departamentos</span>
                                    <i class="fas fa-chevron-right text-gray-400"></i>
                                </button>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-lg font-semibold">Resultados</h2>
                        <div class="flex space-x-2">
                            <button class="bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-4 rounded text-sm">
                                <i class="fas fa-file-excel mr-1"></i> Excel
                            </button>
                            <button class="bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-4 rounded text-sm">
                                <i class="fas fa-file-pdf mr-1"></i> PDF
                            </button>
                        </div>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white">
                            <thead>
                                <tr class="bg-gray-100 text-gray-600 text-left text-sm font-semibold uppercase">
                                    <th class="py-3 px-4 rounded-tl-lg">Employee ID</th>
                                    <th class="py-3 px-4">First Name</th>
                                    <th class="py-3 px-4">Last Name</th>
                                    <th class="py-3 px-4">Department</th>
                                    <th class="py-3 px-4 rounded-tr-lg">Salary</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-600 text-sm">
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP001</td>
                                    <td class="py-3 px-4">María</td>
                                    <td class="py-3 px-4">García</td>
                                    <td class="py-3 px-4">Desarrollo</td>
                                    <td class="py-3 px-4">$85,000</td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP006</td>
                                    <td class="py-3 px-4">Roberto</td>
                                    <td class="py-3 px-4">Fernández</td>
                                    <td class="py-3 px-4">Desarrollo</td>
                                    <td class="py-3 px-4">$82,000</td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP010</td>
                                    <td class="py-3 px-4">Isabel</td>
                                    <td class="py-3 px-4">Rodríguez</td>
                                    <td class="py-3 px-4">Finanzas</td>
                                    <td class="py-3 px-4">$79,000</td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP015</td>
                                    <td class="py-3 px-4">Miguel</td>
                                    <td class="py-3 px-4">Álvarez</td>
                                    <td class="py-3 px-4">IT</td>
                                    <td class="py-3 px-4">$78,000</td>
                                </tr>
                                
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP002</td>
                                    <td class="py-3 px-4">Juan</td>
                                    <td class="py-3 px-4">Pérez</td>
                                    <td class="py-3 px-4">Marketing</td>
                                    <td class="py-3 px-4">$65,000</td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="py-3 px-4">EMP022</td>
                                    <td class="py-3 px-4">Diana</td>
                                    <td class="py-3 px-4">Gómez</td>
                                    <td class="py-3 px-4">Ventas</td>
                                    <td class="py-3 px-4">$63,000</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="mt-4 text-sm text-gray-500">
                        Se encontraron 7 resultados - Tiempo de ejecución: 0.023 segundos
                    </div>
                </div>
            </section>

            <!-- Procedimientos Section -->
            <section id="procedimientos" class="content-section hidden">
                <h1 class="text-2xl font-semibold mb-6">Procedimientos Almacenados</h1>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                    <div class="lg:col-span-2 bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-lg font-semibold mb-4 border-b pb-2">Ejecutar Procedimiento</h2>
                        
                        <div class="mb-4">
                            <label for="procedure" class="block text-sm font-medium text-gray-700 mb-1">Seleccionar Procedimiento</label>
                            <select id="procedure" name="procedure" class="w-full p-2 border border-gray-300 rounded-md focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" onchange="loadProcedureParams()">
                                <option value="">Seleccionar un procedimiento</option>
                                <option value="calculate_salary_increase">Calcular Aumento de Salario</option>
                                <option value="update_employee_department">Actualizar Departamento de Empleado</option>
                                <option value="generate_employee_report">Generar Reporte de Empleado</option>
                                <option value="transfer_employees">Transferir Empleados entre Departamentos</option>
                                <option value="employee_performance_review">Evaluación de Desempeño</option>
                            </select>
                        </div>
                        
                        <div id="procedure-description" class="mb-6 p-3 bg-gray-50 rounded-md text-sm text-gray-700">
                            Seleccione un procedimiento para ver su descripción y parámetros.
                        </div>
                        
                        <div id="procedure-params" class="mb-6 hidden">
                            <h3 class="text-md font-medium mb-2">Parámetros</h3>
                            <div class="space-y-4" id="params-container">
                                <!-- Parámetros dinámicos se cargarán aquí -->
                            </div>
                        </div>
                        
                        <div class="flex justify-between">
                            <div>
                                <button id="execute-procedure-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded mr-2 disabled:bg-indigo-300 disabled:cursor-not-allowed" disabled>
                                    <i class="fas fa-play mr-2"></i>
                                    Ejecutar Procedimiento
                                </button>
                            </div>
                            <div>
                                <button class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded">
                                    <i class="fas fa-undo mr-2"></i>
                                    Reiniciar
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-lg font-semibold mb-4 border-b pb-2">Procedimientos Disponibles</h2>
                        <ul class="space-y-3">
                            <li class="border-b pb-2">
                                <a href="#" class="text-indigo-600 hover:text-indigo-800 font-medium" onclick="selectProcedure('calculate_salary_increase')">Calcular Aumento de Salario</a>
                                <p class="text-sm text-gray-600 mt-1">Calcula y aplica aumentos salariales basados en criterios como antigüedad y evaluación.</p>
                            </li>
                            <li class="border-b pb-2">
                                <a href="#" class="text-indigo-600 hover:text-indigo-800 font-medium" onclick="selectProcedure('update_employee_department')">Actualizar Departamento de Empleado</a>
                                <p class="text-sm text-gray-600 mt-1">Cambia el departamento de un empleado y actualiza registros relacionados.</p>
                            </li>
                            <li class="border-b pb-2">
                                <a href="#" class="text-indigo-600 hover:text-indigo-800 font-medium" onclick="selectProcedure('generate_employee_report')">Generar Reporte de Empleado</a>
                                <p class="text-sm text-gray-600 mt-1">Genera un reporte completo con datos históricos y actuales de un empleado.</p>
                            </li>
                            <li class="border-b pb-2">
                                <a href="#" class="text-indigo-600 hover:text-indigo-800 font-medium" onclick="selectProcedure('transfer_employees')">Transferir Empleados</a>
                                <p class="text-sm text-gray-600 mt-1">Transfiere múltiples empleados de un departamento a otro.</p>
                            </li>
                            <li>
                                <a href="#" class="text-indigo-600 hover:text-indigo-800 font-medium" onclick="selectProcedure('employee_performance_review')">Evaluación de Desempeño</a>
                                <p class="text-sm text-gray-600 mt-1">Registra evaluaciones de desempeño y actualiza métricas relacionadas.</p>
                            </li>
                        </ul>
                        
                        <div class="mt-6">
                            <button class="w-full bg-indigo-100 hover:bg-indigo-200 text-indigo-700 font-bold py-2 px-4 rounded" onclick="showCreateProcedureModal()">
                                <i class="fas fa-plus-circle mr-2"></i>
                                Crear Nuevo Procedimiento
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-md p-6" id="procedure-results">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-lg font-semibold">Resultados</h2>
                        <div class="flex items-center">
                            <span class="text-sm text-gray-500 mr-4" id="execution-time">Tiempo de ejecución: -- ms</span>
                            <div class="flex space-x-2">
                                <button class="bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-4 rounded text-sm">
                                    <i class="fas fa-file-excel mr-1"></i> Excel
                                </button>
                                <button class="bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-4 rounded text-sm">
                                    <i class="fas fa-file-pdf mr-1"></i> PDF
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="execution-result mb-4 p-4 bg-green-50 border border-green-200 rounded-md text-green-800 hidden" id="success-message">
                        <div class="flex items-start">
                            <div class="flex-shrink-0">
                                <i class="fas fa-check-circle text-green-500"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm font-medium">Procedimiento ejecutado con éxito</p>
                                <p class="mt-1 text-sm" id="success-details">El procedimiento se ha ejecutado correctamente.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="execution-result mb-4 p-4 bg-red-50 border border-red-200 rounded-md text-red-800 hidden" id="error-message">
                        <div class="flex items-start">
                            <div class="flex-shrink-0">
                                <i class="fas fa-exclamation-circle text-red-500"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm font-medium">Error al ejecutar el procedimiento</p>
                                <p class="mt-1 text-sm" id="error-details">Ocurrió un error durante la ejecución.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div id="result-table" class="hidden">
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white">
                                <thead>
                                    <tr class="bg-gray-100 text-gray-600 text-left text-sm font-semibold uppercase">
                                        <th class="py-3 px-4 rounded-tl-lg">Employee ID</th>
                                        <th class="py-3 px-4">Name</th>
                                        <th class="py-3 px-4">Previous Salary</th>
                                        <th class="py-3 px-4">New Salary</th>
                                        <th class="py-3 px-4">Increase %</th>
                                        <th class="py-3 px-4 rounded-tr-lg">Status</th>
                                    </tr>
                                </thead>
                                <tbody class="text-gray-600 text-sm">
                                    <tr class="border-b border-gray-200 hover:bg-gray-50">
                                        <td class="py-3 px-4">EMP001</td>
                                        <td class="py-3 px-4">María García</td>
                                        <td class="py-3 px-4">$85,000</td>
                                        <td class="py-3 px-4">$89,250</td>
                                        <td class="py-3 px-4 text-green-600">+5%</td>
                                        <td class="py-3 px-4"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">Actualizado</span></td>
                                    </tr>
                                    <tr class="border-b border-gray-200 hover:bg-gray-50">
                                        <td class="py-3 px-4">EMP002</td>
                                        <td class="py-3 px-4">Juan Pérez</td>
                                        <td class="py-3 px-4">$65,000</td>
                                        <td class="py-3 px-4">$68,250</td>
                                        <td class="py-3 px-4 text-green-600">+5%</td>
                                        <td class="py-3 px-4"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">Actualizado</span></td>
                                    </tr>
                                    <tr class="border-b border-gray-200 hover:bg-gray-50">
                                        <td class="py-3 px-4">EMP003</td>
                                        <td class="py-3 px-4">Ana Martínez</td>
                                        <td class="py-3 px-4">$45,000</td>
                                        <td class="py-3 px-4">$47,250</td>
                                        <td class="py-3 px-4 text-green-600">+5%</td>
                                        <td class="py-3 px-4"><span class="bg-yellow-100 text-yellow-800 rounded-full px-2 py-1 text-xs">En Revisión</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="mt-4 text-sm text-gray-500">
                            Se actualizaron 3 empleados - Aumento total: $9,750
                        </div>
                    </div>
                    
                    <div id="no-results" class="text-center p-8 text-gray-500">
                        <i class="fas fa-database text-gray-300 text-5xl mb-4"></i>
                        <p>No hay resultados disponibles. Ejecute un procedimiento para ver resultados.</p>
                    </div>
                </div>
            </section>

            <!-- Reportes Section -->
            <section id="reportes" class="content-section hidden">
                <h1 class="text-2xl font-semibold mb-6">Reportes</h1>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                    <div class="lg:col-span-2">
                        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                            <h2 class="text-lg font-semibold mb-4">Análisis de Personal</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <canvas id="employeeGrowthChart" width="400" height="250"></canvas>
                                    <p class="text-center text-sm text-gray-500 mt-2">Crecimiento de Personal (Últimos 12 meses)</p>
                                </div>
                                <div>
                                    <canvas id="departmentDistributionChart" width="400" height="250"></canvas>
                                    <p class="text-center text-sm text-gray-500 mt-2">Distribución por Departamento</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow-md p-6">
                            <div class="flex justify-between items-center mb-4">
                                <h2 class="text-lg font-semibold">Tendencia Salarial</h2>
                                <select class="rounded-md border border-gray-300 p-2 text-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                    <option value="all">Todos los Departamentos</option>
                                    <option value="IT">IT</option>
                                    <option value="RRHH">Recursos Humanos</option>
                                    <option value="VENTAS">Ventas</option>
                                    <option value="MARKETING">Marketing</option>
                                    <option value="FINANZAS">Finanzas</option>
                                </select>
                            </div>
                            <canvas id="salaryTrendChart" width="400" height="200"></canvas>
                            <div class="grid grid-cols-3 gap-4 mt-4 text-center">
                                <div class="bg-gray-50 p-3 rounded">
                                    <p class="text-sm text-gray-500">Promedio</p>
                                    <p class="text-xl font-semibold text-indigo-600">$62,450</p>
                                </div>
                                <div class="bg-gray-50 p-3 rounded">
                                    <p class="text-sm text-gray-500">Mínimo</p>
                                    <p class="text-xl font-semibold text-red-600">$35,000</p>
                                </div>
                                <div class="bg-gray-50 p-3 rounded">
                                    <p class="text-sm text-gray-500">Máximo</p>
                                    <p class="text-xl font-semibold text-green-600">$95,000</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                            <h2 class="text-lg font-semibold mb-4">Reportes Disponibles</h2>
                            <ul class="space-y-3">
                                <li>
                                    <a href="#" class="flex items-center justify-between p-3 bg-gray-50 rounded hover:bg-gray-100" onclick="generateReport('employee_stats')">
                                        <div>
                                            <p class="font-medium">Estadísticas de Empleados</p>
                                            <p class="text-sm text-gray-500">Métricas generales de la plantilla</p>
                                        </div>
                                        <i class="fas fa-file-alt text-indigo-500"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="flex items-center justify-between p-3 bg-gray-50 rounded hover:bg-gray-100" onclick="generateReport('department_analysis')">
                                        <div>
                                            <p class="font-medium">Análisis Departamental</p>
                                            <p class="text-sm text-gray-500">Detalle por departamento</p>
                                        </div>
                                        <i class="fas fa-file-alt text-indigo-500"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="flex items-center justify-between p-3 bg-gray-50 rounded hover:bg-gray-100" onclick="generateReport('salary_report')">
                                        <div>
                                            <p class="font-medium">Informe de Salarios</p>
                                            <p class="text-sm text-gray-500">Análisis de compensaciones</p>
                                        </div>
                                        <i class="fas fa-file-alt text-indigo-500"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="flex items-center justify-between p-3 bg-gray-50 rounded hover:bg-gray-100" onclick="generateReport('turnover_analysis')">
                                        <div>
                                            <p class="font-medium">Rotación de Personal</p>
                                            <p class="text-sm text-gray-500">Tendencias de retención</p>
                                        </div>
                                        <i class="fas fa-file-alt text-indigo-500"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="flex items-center justify-between p-3 bg-gray-50 rounded hover:bg-gray-100" onclick="generateReport('custom_report')">
                                        <div>
                                            <p class="font-medium">Reporte Personalizado</p>
                                            <p class="text-sm text-gray-500">Definir parámetros propios</p>
                                        </div>
                                        <i class="fas fa-file-alt text-indigo-500"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow-md p-6">
                            <h2 class="text-lg font-semibold mb-4">Reportes Recientes</h2>
                            <ul class="space-y-3">
                                <li class="flex items-center justify-between">
                                    <div>
                                        <p class="font-medium">Análisis Departamental</p>
                                        <p class="text-xs text-gray-500">Generado: 01/08/2023</p>
                                    </div>
                                    <div class="flex space-x-2">
                                        <button class="text-gray-400 hover:text-blue-500"><i class="fas fa-eye"></i></button>
                                        <button class="text-gray-400 hover:text-red-500"><i class="fas fa-file-pdf"></i></button>
                                    </div>
                                </li>
                                <li class="flex items-center justify-between">
                                    <div>
                                        <p class="font-medium">Informe de Salarios</p>
                                        <p class="text-xs text-gray-500">Generado: 27/07/2023</p>
                                    </div>
                                    <div class="flex space-x-2">
                                        <button class="text-gray-400 hover:text-blue-500"><i class="fas fa-eye"></i></button>
                                        <button class="text-gray-400 hover:text-red-500"><i class="fas fa-file-pdf"></i></button>
                                    </div>
                                </li>
                                <li class="flex items-center justify-between">
                                    <div>
                                        <p class="font-medium">Estadísticas de Empleados</p>
                                        <p class="text-xs text-gray-500">Generado: 15/07/2023</p>
                                    </div>
                                    <div class="flex space-x-2">
                                        <button class="text-gray-400 hover:text-blue-500"><i class="fas fa-eye"></i></button>
                                        <button class="text-gray-400 hover:text-red-500"><i class="fas fa-file-pdf"></i></button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-lg font-semibold">Tabla Resumen de Empleados por Departamento</h2>
                        <div class="flex space-x-2">
                            <button class="bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-4 rounded text-sm">
                                <i class="fas fa-file-excel mr-1"></i> Excel
                            </button>
                            <button class="bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-4 rounded text-sm">
                                <i class="fas fa-file-pdf mr-1"></i> PDF
                            </button>
                        </div>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white">
                            <thead>
                                <tr class="bg-gray-100 text-gray-600 text-left text-sm font-semibold uppercase">
                                    <th class="py-3 px-4 rounded-tl-lg">Departamento</th>
                                    <th class="py-3 px-4">Total Empleados</th>
                                    <th class="py-3 px-4">Promedio Salario</th>
                                    <th class="py-3 px-4">Nuevas Contrataciones</th>
                                    <th class="py-3 px-4">Salidas</th>
                                    <th class="py-3 px-4">Tasa de Retención</th>
                                    <th class="py-3 px-4 rounded-tr-lg">Presupuesto Anual</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-600 text-sm">
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4 font-medium">Desarrollo</td>
                                    <td class="py-3 px-4">54</td>
                                    <td class="py-3 px-4">$82,450</td>
                                    <td class="py-3 px-4">7</td>
                                    <td class="py-3 px-4">2</td>
                                    <td class="py-3 px-4">96%</td>
                                    <td class="py-3 px-4">$4,452,300</td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4 font-medium">Marketing</td>
                                    <td class="py-3 px-4">28</td>
                                    <td class="py-3 px-4">$65,780</td>
                                    <td class="py-3 px-4">4</td>
                                    <td class="py-3 px-4">1</td>
                                    <td class="py-3 px-4">97%</td>
                                    <td class="py-3 px-4">$1,841,840</td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4 font-medium">Ventas</td>
                                    <td class="py-3 px-4">42</td>
                                    <td class="py-3 px-4">$58,950</td>
                                    <td class="py-3 px-4">6</td>
                                    <td class="py-3 px-4">3</td>
                                    <td class="py-3 px-4">93%</td>
                                    <td class="py-3 px-4">$2,475,900</td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4 font-medium">Recursos Humanos</td>
                                    <td class="py-3 px-4">15</td>
                                    <td class="py-3 px-4">$52,300</td>
                                    <td class="py-3 px-4">1</td>
                                    <td class="py-3 px-4">0</td>
                                    <td class="py-3 px-4">100%</td>
                                    <td class="py-3 px-4">$784,500</td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    <td class="py-3 px-4 font-medium">Finanzas</td>
                                    <td class="py-3 px-4">23</td>
                                    <td class="py-3 px-4">$72,100</td>
                                    <td class="py-3 px-4">2</td>
                                    <td class="py-3 px-4">1</td>
                                    <td class="py-3 px-4">96%</td>
                                    <td class="py-3 px-4">$1,658,300</td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="py-3 px-4 font-medium">Operaciones</td>
                                    <td class="py-3 px-4">81</td>
                                    <td class="py-3 px-4">$48,650</td>
                                    <td class="py-3 px-4">8</td>
                                    <td class="py-3 px-4">4</td>
                                    <td class="py-3 px-4">95%</td>
                                    <td class="py-3 px-4">$3,940,650</td>
                                </tr>
                            </tbody>
                            <tfoot class="bg-gray-50 font-medium">
                                <tr>
                                    <td class="py-3 px-4">TOTAL</td>
                                    <td class="py-3 px-4">243</td>
                                    <td class="py-3 px-4">$62,450</td>
                                    <td class="py-3 px-4">28</td>
                                    <td class="py-3 px-4">11</td>
                                    <td class="py-3 px-4">96%</td>
                                    <td class="py-3 px-4">$15,153,490</td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Auditoria Section -->
            <section id="auditoria" class="content-section hidden">
                <h1 class="text-2xl font-semibold mb-6">Auditoría y Control de Errores</h1>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                    <div class="lg:col-span-2 bg-white rounded-lg shadow-md p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-lg font-semibold">Registro de Actividades</h2>
                            <div class="flex space-x-2">
                                <select class="rounded-md border border-gray-300 text-sm p-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                    <option value="all">Todas las acciones</option>
                                    <option value="INSERT">Inserciones</option>
                                    <option value="UPDATE">Actualizaciones</option>
                                    <option value="DELETE">Eliminaciones</option>
                                    <option value="PROCEDURE">Procedimientos</option>
                                </select>
                                <select class="rounded-md border border-gray-300 text-sm p-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                    <option value="all">Todos los usuarios</option>
                                    <option value="admin">Administrador</option>
                                    <option value="rrhh">RRHH</option>
                                    <option value="manager">Gerente</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white">
                                <thead>
                                    <tr class="bg-gray-100 text-gray-600 text-left text-sm font-semibold uppercase">
                                        <th class="py-3 px-4 rounded-tl-lg">ID</th>
                                        <th class="py-3 px-4">Fecha y Hora</th>
                                        <th class="py-3 px-4">Usuario</th>
                                        <th class="py-3 px-4">Acción</th>
                                        <th class="py-3 px-4">Tabla</th>
                                        <th class="py-3 px-4">ID Registro</th>
                                        <th class="py-3 px-4 rounded-tr-lg">Detalles</th>
                                    </tr>
                                </thead>
                                <tbody class="text-gray-600 text-sm">
                                    <tr class="border-b border-gray-200 hover:bg-gray-50">
                                        <td class="py-3 px-4">LOG00125</td>
                                        <td class="py-3 px-4">10/08/2023 14:32:45</td>
                                        <td class="py-3 px-4">admin</td>
                                        <td class="py-3 px-4"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">INSERT</span></td>
                                        <td class="py-3 px-4">employees</td>
                                        <td class="py-3 px-4">EMP005</td>
                                        <td class="py-3 px-4">
                                            <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded" onclick="showLogDetails('LOG00125')">
                                                <i class="fas fa-eye text-xs"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="border-b border-gray-200 hover:bg-gray-50">
                                        <td class="py-3 px-4">LOG00124</td>
                                        <td class="py-3 px-4">10/08/2023 13:15:22</td>
                                        <td class="py-3 px-4">rrhh</td>
                                        <td class="py-3 px-4"><span class="bg-yellow-100 text-yellow-800 rounded-full px-2 py-1 text-xs">UPDATE</span></td>
                                        <td class="py-3 px-4">employees</td>
                                        <td class="py-3 px-4">EMP002</td>
                                        <td class="py-3 px-4">
                                            <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded" onclick="showLogDetails('LOG00124')">
                                                <i class="fas fa-eye text-xs"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="border-b border-gray-200 hover:bg-gray-50">
                                        <td class="py-3 px-4">LOG00123</td>
                                        <td class="py-3 px-4">10/08/2023 11:47:36</td>
                                        <td class="py-3 px-4">manager</td>
                                        <td class="py-3 px-4"><span class="bg-blue-100 text-blue-800 rounded-full px-2 py-1 text-xs">PROCEDURE</span></td>
                                        <td class="py-3 px-4">N/A</td>
                                        <td class="py-3 px-4">N/A</td>
                                        <td class="py-3 px-4">
                                            <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded" onclick="showLogDetails('LOG00123')">
                                                <i class="fas fa-eye text-xs"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="border-b border-gray-200 hover:bg-gray-50">
                                        <td class="py-3 px-4">LOG00122</td>
                                        <td class="py-3 px-4">10/08/2023 10:22:15</td>
                                        <td class="py-3 px-4">admin</td>
                                        <td class="py-3 px-4"><span class="bg-red-100 text-red-800 rounded-full px-2 py-1 text-xs">DELETE</span></td>
                                        <td class="py-3 px-4">employee_history</td>
                                        <td class="py-3 px-4">HIST043</td>
                                        <td class="py-3 px-4">
                                            <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded" onclick="showLogDetails('LOG00122')">
                                                <i class="fas fa-eye text-xs"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="border-b border-gray-200 hover:bg-gray-50">
                                        <td class="py-3 px-4">LOG00121</td>
                                        <td class="py-3 px-4">09/08/2023 16:45:52</td>
                                        <td class="py-3 px-4">rrhh</td>
                                        <td class="py-3 px-4"><span class="bg-yellow-100 text-yellow-800 rounded-full px-2 py-1 text-xs">UPDATE</span></td>
                                        <td class="py-3 px-4">departments</td>
                                        <td class="py-3 px-4">DEPT003</td>
                                        <td class="py-3 px-4">
                                            <button class="bg-blue-500 hover:bg-blue-600 text-white p-1 rounded" onclick="showLogDetails('LOG00121')">
                                                <i class="fas fa-eye text-xs"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="flex justify-between items-center mt-6">
                            <div class="text-sm text-gray-500">
                                Mostrando 1-5 de 125 registros
                            </div>
                            <div class="flex space-x-1">
                                <button class="px-3 py-1 rounded border border-gray-300 text-gray-500 hover:bg-gray-50 disabled:opacity-50" disabled>
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <button class="px-3 py-1 rounded border border-gray-300 bg-indigo-500 text-white">1</button>
                                <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">2</button>
                                <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">3</button>
                                <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">4</button>
                                <button class="px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50">5</button>
                                <button class="px-3 py-1 rounded border border-gray-300 text-gray-500 hover:bg-gray-50">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                            <h2 class="text-lg font-semibold mb-4">Resumen de Actividad</h2>
                            <canvas id="activityChart" height="200"></canvas>
                            <div class="grid grid-cols-2 gap-4 mt-4">
                                <div class="bg-gray-50 p-3 rounded text-center">
                                    <p class="text-sm text-gray-500">Hoy</p>
                                    <p class="text-xl font-semibold text-indigo-600">27</p>
                                    <p class="text-xs text-gray-500">operaciones</p>
                                </div>
                                <div class="bg-gray-50 p-3 rounded text-center">
                                    <p class="text-sm text-gray-500">Esta semana</p>
                                    <p class="text-xl font-semibold text-indigo-600">125</p>
                                    <p class="text-xs text-gray-500">operaciones</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow-md p-6">
                            <h2 class="text-lg font-semibold mb-4">Registro de Errores</h2>
                            <div class="space-y-3">
                                <div class="p-3 bg-red-50 border border-red-100 rounded-md">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <p class="font-medium text-red-800">Error de Duplicado</p>
                                            <p class="text-sm text-red-600">10/08/2023 09:12:34</p>
                                        </div>
                                        <span class="text-xs bg-red-200 text-red-800 px-2 py-1 rounded-full">Crítico</span>
                                    </div>
                                    <p class="text-sm mt-2 text-gray-700">Intento de inserción de ID duplicado en la tabla employees.</p>
                                </div>
                                
                                <div class="p-3 bg-yellow-50 border border-yellow-100 rounded-md">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <p class="font-medium text-yellow-800">Error de Integridad</p>
                                            <p class="text-sm text-yellow-600">09/08/2023 14:45:21</p>
                                        </div>
                                        <span class="text-xs bg-yellow-200 text-yellow-800 px-2 py-1 rounded-full">Advertencia</span>
                                    </div>
                                    <p class="text-sm mt-2 text-gray-700">Violación de restricción de clave foránea en la tabla salaries.</p>
                                </div>
                                
                                <div class="p-3 bg-red-50 border border-red-100 rounded-md">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <p class="font-medium text-red-800">Error de Procedimiento</p>
                                            <p class="text-sm text-red-600">08/08/2023 11:32:15</p>
                                        </div>
                                        <span class="text-xs bg-red-200 text-red-800 px-2 py-1 rounded-full">Crítico</span>
                                    </div>
                                    <p class="text-sm mt-2 text-gray-700">El procedimiento 'calculate_salary_increase' falló debido a divisón por cero.</p>
                                </div>
                                
                                <button class="w-full mt-2 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded text-sm">
                                    Ver todos los errores
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-lg font-semibold mb-4">Herramientas de Auditoría</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="p-4 border rounded-md hover:shadow-md transition-shadow">
                            <div class="flex items-center mb-3">
                                <i class="fas fa-history text-indigo-500 text-2xl mr-3"></i>
                                <h3 class="font-medium">Historial de Cambios</h3>
                            </div>
                            <p class="text-sm text-gray-600 mb-3">Visualiza el historial completo de cambios para cualquier registro.</p>
                            <button class="w-full bg-indigo-50 hover:bg-indigo-100 text-indigo-700 py-2 rounded text-sm">
                                Acceder
                            </button>
                        </div>
                        
                        <div class="p-4 border rounded-md hover:shadow-md transition-shadow">
                            <div class="flex items-center mb-3">
                                <i class="fas fa-user-shield text-indigo-500 text-2xl mr-3"></i>
                                <h3 class="font-medium">Actividad de Usuarios</h3>
                            </div>
                            <p class="text-sm text-gray-600 mb-3">Monitorea la actividad por usuario y detecta patrones inusuales.</p>
                            <button class="w-full bg-indigo-50 hover:bg-indigo-100 text-indigo-700 py-2 rounded text-sm">
                                Acceder
                            </button>
                        </div>
                        
                        <div class="p-4 border rounded-md hover:shadow-md transition-shadow">
                            <div class="flex items-center mb-3">
                                <i class="fas fa-database text-indigo-500 text-2xl mr-3"></i>
                                <h3 class="font-medium">Integridad de Datos</h3>
                            </div>
                            <p class="text-sm text-gray-600 mb-3">Verifica la integridad y consistencia de los datos en todas las tablas.</p>
                            <button class="w-full bg-indigo-50 hover:bg-indigo-100 text-indigo-700 py-2 rounded text-sm">
                                Acceder
                            </button>
                        </div>
                    </div>
                    
                    <div class="mt-6 p-4 bg-blue-50 rounded-md">
                        <div class="flex items-start">
                            <i class="fas fa-info-circle text-blue-500 text-xl mt-1 mr-3"></i>
                            <div>
                                <h3 class="font-medium text-blue-800">Auditoría Automática</h3>
                                <p class="text-sm text-gray-700 mt-1">El sistema realiza auditorías automáticas diarias para detectar anomalías y posibles problemas. Los resultados se envían automáticamente a los administradores.</p>
                                <div class="mt-3">
                                    <button class="bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded text-sm mr-2">
                                        Ejecutar Auditoría Ahora
                                    </button>
                                    <button class="bg-white hover:bg-gray-100 text-blue-700 border border-blue-500 py-2 px-4 rounded text-sm">
                                        Configurar Auditorías
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Modal de Baja de Empleado -->
    <div id="termination-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-semibold text-gray-900">Dar de Baja al Empleado</h3>
                <button onclick="hideTerminationModal()" class="text-gray-400 hover:text-gray-500">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="mb-6">
                <div class="flex items-center p-4 bg-blue-50 rounded mb-4">
                    <img src="https://randomuser.me/api/portraits/women/44.jpg" class="h-16 w-16 rounded-full mr-4" alt="Employee photo">
                    <div>
                        <p class="font-bold">María García</p>
                        <p class="text-sm text-gray-600">EMP001 • Desarrollador Senior</p>
                        <p class="text-sm text-gray-600">Departamento de Desarrollo</p>
                    </div>
                </div>
                
                <div class="mb-4">
                    <label for="termination-date" class="block text-sm font-medium text-gray-700 mb-1">Fecha de Baja *</label>
                    <input type="date" id="termination-date" name="termination-date" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                </div>
                
                <div class="mb-4">
                    <label for="termination-reason" class="block text-sm font-medium text-gray-700 mb-1">Motivo de Baja *</label>
                    <select id="termination-reason" name="termination-reason" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                        <option value="">Seleccionar motivo</option>
                        <option value="RENUNCIA">Renuncia Voluntaria</option>
                        <option value="DESPIDO">Despido</option>
                        <option value="JUBILACION">Jubilación</option>
                        <option value="CONTRATO">Fin de Contrato</option>
                        <option value="OTRO">Otro</option>
                    </select>
                </div>
                
                <div class="mb-4">
                    <label for="termination-notes" class="block text-sm font-medium text-gray-700 mb-1">Observaciones</label>
                    <textarea id="termination-notes" name="termination-notes" rows="3" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"></textarea>
                </div>
                
                <div class="mb-4">
                    <label class="inline-flex items-center">
                        <input type="checkbox" class="form-checkbox h-5 w-5 text-indigo-600 rounded focus:ring-indigo-500" name="deactivate-accounts">
                        <span class="ml-2 text-gray-700">Desactivar cuentas y accesos</span>
                    </label>
                </div>
                
                <div class="p-3 bg-yellow-50 rounded text-sm text-yellow-800">
                    <i class="fas fa-exclamation-triangle mr-2"></i>
                    Esta acción es irreversible. El empleado será dado de baja del sistema.
                </div>
            </div>
            
            <div class="flex justify-end space-x-3">
                <button onclick="hideTerminationModal()" class="px-4 py-2 bg-white border border-gray-300 rounded-md font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                    Cancelar
                </button>
                <button onclick="confirmTermination()" class="px-4 py-2 bg-red-600 border border-transparent rounded-md font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">
                    Confirmar Baja
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Edición de Empleado -->
    <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-4xl max-h-screen overflow-y-auto">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-semibold text-gray-900">Modificar Empleado</h3>
                <button onclick="hideEditModal()" class="text-gray-400 hover:text-gray-500">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="mb-6">
                <div class="flex items-center p-4 bg-blue-50 rounded mb-4">
                    <img src="https://randomuser.me/api/portraits/women/44.jpg" class="h-16 w-16 rounded-full mr-4" alt="Employee photo">
                    <div>
                        <p class="font-bold">María García</p>
                        <p class="text-sm text-gray-600">EMP001 • Desarrollador Senior</p>
                        <p class="text-sm text-gray-600">Departamento de Desarrollo</p>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="edit-firstName" class="block text-sm font-medium text-gray-700 mb-1">Nombre(s) *</label>
                        <input type="text" id="edit-firstName" name="edit-firstName" value="María" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                    </div>
                    
                    <div>
                        <label for="edit-lastName" class="block text-sm font-medium text-gray-700 mb-1">Apellido(s) *</label>
                        <input type="text" id="edit-lastName" name="edit-lastName" value="García" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                    </div>
                    
                    <div>
                        <label for="edit-email" class="block text-sm font-medium text-gray-700 mb-1">Correo Electrónico *</label>
                        <input type="email" id="edit-email" name="edit-email" value="maria.garcia@empresa.com" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                    </div>
                    
                    <div>
                        <label for="edit-phone" class="block text-sm font-medium text-gray-700 mb-1">Teléfono *</label>
                        <input type="tel" id="edit-phone" name="edit-phone" value="555-123-4567" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                    </div>
                    
                    <div>
                        <label for="edit-department" class="block text-sm font-medium text-gray-700 mb-1">Departamento *</label>
                        <select id="edit-department" name="edit-department" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                            <option value="DESARROLLO" selected>Desarrollo</option>
                            <option value="IT">IT</option>
                            <option value="RRHH">Recursos Humanos</option>
                            <option value="VENTAS">Ventas</option>
                            <option value="MARKETING">Marketing</option>
                            <option value="FINANZAS">Finanzas</option>
                            <option value="OPERACIONES">Operaciones</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="edit-position" class="block text-sm font-medium text-gray-700 mb-1">Cargo *</label>
                        <input type="text" id="edit-position" name="edit-position" value="Desarrollador Senior" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                    </div>
                    
                    <div>
                        <label for="edit-salary" class="block text-sm font-medium text-gray-700 mb-1">Salario *</label>
                        <input type="number" id="edit-salary" name="edit-salary" value="85000" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                    </div>
                    
                    <div>
                        <label for="edit-status" class="block text-sm font-medium text-gray-700 mb-1">Estado *</label>
                        <select id="edit-status" name="edit-status" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                            <option value="ACTIVO" selected>Activo</option>
                            <option value="PRUEBA">En Prueba</option>
                            <option value="BAJA">Baja</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="edit-manager" class="block text-sm font-medium text-gray-700 mb-1">Supervisor</label>
                        <select id="edit-manager" name="edit-manager" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            <option value="">Ninguno</option>
                            <option value="EMP002">Juan Pérez (EMP002)</option>
                            <option value="EMP003">Ana Martínez (EMP003)</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="edit-hireDate" class="block text-sm font-medium text-gray-700 mb-1">Fecha de Contratación *</label>
                        <input type="date" id="edit-hireDate" name="edit-hireDate" value="2023-05-15" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" required>
                    </div>
                </div>
                
                <div class="mt-4">
                    <label for="edit-notes" class="block text-sm font-medium text-gray-700 mb-1">Notas Adicionales</label>
                    <textarea id="edit-notes" name="edit-notes" rows="3" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">Excelente desempeño en proyectos recientes. Posible candidata a promoción en los próximos 6 meses.</textarea>
                </div>
            </div>
            
            <div class="flex justify-end space-x-3">
                <button onclick="hideEditModal()" class="px-4 py-2 bg-white border border-gray-300 rounded-md font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                    Cancelar
                </button>
                <button onclick="saveEmployeeChanges()" class="px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                    Guardar Cambios
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Detalles de Log -->
    <div id="log-details-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-2xl">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-semibold text-gray-900">Detalles del Registro de Auditoría</h3>
                <button onclick="hideLogDetailsModal()" class="text-gray-400 hover:text-gray-500">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="mb-6">
                <div class="bg-gray-50 p-4 rounded-md mb-4">
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <p class="text-sm text-gray-500">ID de Log:</p>
                            <p class="font-medium">LOG00125</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Fecha y Hora:</p>
                            <p class="font-medium">10/08/2023 14:32:45</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Usuario:</p>
                            <p class="font-medium">admin</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Dirección IP:</p>
                            <p class="font-medium">192.168.1.105</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Acción:</p>
                            <p class="font-medium"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">INSERT</span></p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Tabla:</p>
                            <p class="font-medium">employees</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">ID de Registro:</p>
                            <p class="font-medium">EMP005</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Estado:</p>
                            <p class="font-medium"><span class="bg-green-100 text-green-800 rounded-full px-2 py-1 text-xs">Exitoso</span></p>
                        </div>
                    </div>
                </div>
                
                <div class="mb-4">
                    <h4 class="font-medium mb-2">Consulta SQL:</h4>
                    <div class="bg-gray-800 text-gray-100 p-3 rounded overflow-x-auto text-sm font-mono">
                        INSERT INTO employees (employee_id, first_name, last_name, email, phone, department_id, position, salary, hire_date, status) VALUES ('EMP005', 'Laura', 'Sánchez', 'laura.sanchez@empresa.com', '555-987-6543', 5, 'Contador', 60000, '2023-07-10', 'PRUEBA');
                    </div>
                </div>
                
                <div>
                    <h4 class="font-medium mb-2">Datos Modificados:</h4>
                    <div class="overflow-x-auto">
                        <table class="min-w-full bg-white border border-gray-200">
                            <thead>
                                <tr class="bg-gray-100">
                                    <th class="py-2 px-4 border-b text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Campo</th>
                                    <th class="py-2 px-4 border-b text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Valor Anterior</th>
                                    <th class="py-2 px-4 border-b text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Valor Nuevo</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200 text-sm">
                                <tr>
                                    <td class="py-2 px-4 text-gray-700">employee_id</td>
                                    <td class="py-2 px-4 text-gray-500">-</td>
                                    <td class="py-2 px-4 font-medium">EMP005</td>
                                </tr>
                                <tr>
                                    <td class="py-2 px-4 text-gray-700">first_name</td>
                                    <td class="py-2 px-4 text-gray-500">-</td>
                                    <td class="py-2 px-4 font-medium">Laura</td>
                                </tr>
                                <tr>
                                    <td class="py-2 px-4 text-gray-700">last_name</td>
                                    <td class="py-2 px-4 text-gray-500">-</td>
                                    <td class="py-2 px-4 font-medium">Sánchez</td>
                                </tr>
                                <tr>
                                    <td class="py-2 px-4 text-gray-700">email</td>
                                    <td class="py-2 px-4 text-gray-500">-</td>
                                    <td class="py-2 px-4 font-medium">laura.sanchez@empresa.com</td>
                                </tr>
                                <tr>
                                    <td class="py-2 px-4 text-gray-700">department_id</td>
                                    <td class="py-2 px-4 text-gray-500">-</td>
                                    <td class="py-2 px-4 font-medium">5 (Finanzas)</td>
                                </tr>
                                <tr>
                                    <td class="py-2 px-4 text-gray-700">position</td>
                                    <td class="py-2 px-4 text-gray-500">-</td>
                                    <td class="py-2 px-4 font-medium">Contador</td>
                                </tr>
                                <tr>
                                    <td class="py-2 px-4 text-gray-700">salary</td>
                                    <td class="py-2 px-4 text-gray-500">-</td>
                                    <td class="py-2 px-4 font-medium">60000</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="flex justify-end">
                <button onclick="hideLogDetailsModal()" class="px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                    Cerrar
                </button>
            </div>
        </div>
    </div>

    <!-- Indicador de carga -->
    <div id="loading-indicator" class="loading hidden">
        <div class="loading-spinner"></div>
    </div>

    <!-- Toast de notificación -->
    <div id="toast" class="fixed bottom-4 right-4 px-4 py-3 rounded-lg shadow-lg z-50 hidden">
        <div id="toast-success" class="bg-green-500 text-white flex items-center hidden">
            <i class="fas fa-check-circle mr-2"></i>
            <span id="toast-success-message">Operación completada con éxito</span>
        </div>
        <div id="toast-error" class="bg-red-500 text-white flex items-center hidden">
            <i class="fas fa-exclamation-circle mr-2"></i>
            <span id="toast-error-message">Ha ocurrido un error</span>
        </div>
    </div>

    <script>
        // Inicializar gráficos
        document.addEventListener('DOMContentLoaded', function() {
            // Gráfico Departamentos
            const departmentCtx = document.getElementById('departmentChart').getContext('2d');
            const departmentChart = new Chart(departmentCtx, {
                type: 'bar',
                data: {
                    labels: ['Desarrollo', 'Marketing', 'Ventas', 'RRHH', 'Finanzas', 'Operaciones'],
                    datasets: [{
                        label: 'Empleados',
                        data: [54, 28, 42, 15, 23, 81],
                        backgroundColor: [
                            'rgba(54, 162, 235, 0.7)',
                            'rgba(255, 99, 132, 0.7)',
                            'rgba(255, 206, 86, 0.7)',
                            'rgba(75, 192, 192, 0.7)',
                            'rgba(153, 102, 255, 0.7)',
                            'rgba(255, 159, 64, 0.7)'
                        ],
                        borderColor: [
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 99, 132, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 159, 64, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            
            // Gráfico de Género
            const genderCtx = document.getElementById('genderChart').getContext('2d');
            const genderChart = new Chart(genderCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Hombres', 'Mujeres'],
                    datasets: [{
                        label: 'Género',
                        data: [58, 42],
                        backgroundColor: [
                            'rgba(54, 162, 235, 0.7)',
                            'rgba(255, 99, 132, 0.7)'
                        ],
                        borderColor: [
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 99, 132, 1)'
                        ],
                        borderWidth: 1
                    }]
                }
            });
            
            // Si estamos en la página de reportes, inicializar esos gráficos también
            if (document.getElementById('employeeGrowthChart')) {
                // Gráfico de crecimiento de empleados
                const growthCtx = document.getElementById('employeeGrowthChart').getContext('2d');
                const growthChart = new Chart(growthCtx, {
                    type: 'line',
                    data: {
                        labels: ['Ago', 'Sep', 'Oct', 'Nov', 'Dic', 'Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul'],
                        datasets: [{
                            label: 'Total Empleados',
                            data: [205, 211, 217, 220, 224, 228, 232, 235, 238, 240, 241, 243],
                            fill: false,
                            borderColor: 'rgba(75, 192, 192, 1)',
                            tension: 0.1
                        }]
                    }
                });
                
                // Gráfico de distribución por departamento
                const deptDistCtx = document.getElementById('departmentDistributionChart').getContext('2d');
                const deptDistChart = new Chart(deptDistCtx, {
                    type: 'pie',
                    data: {
                        labels: ['Desarrollo', 'Marketing', 'Ventas', 'RRHH', 'Finanzas', 'Operaciones'],
                        datasets: [{
                            data: [22, 12, 17, 6, 10, 33],
                            backgroundColor: [
                                'rgba(54, 162, 235, 0.7)',
                                'rgba(255, 99, 132, 0.7)',
                                'rgba(255, 206, 86, 0.7)',
                                'rgba(75, 192, 192, 0.7)',
                                'rgba(153, 102, 255, 0.7)',
                                'rgba(255, 159, 64, 0.7)'
                            ],
                            borderWidth: 1
                        }]
                    }
                });
                
                // Gráfico de tendencia salarial
                const salaryCtx = document.getElementById('salaryTrendChart').getContext('2d');
                const salaryChart = new Chart(salaryCtx, {
                    type: 'line',
                    data: {
                        labels: ['Q1 2022', 'Q2 2022', 'Q3 2022', 'Q4 2022', 'Q1 2023', 'Q2 2023'],
                        datasets: [{
                            label: 'Salario Promedio',
                            data: [58000, 59200, 60500, 61300, 61900, 62450],
                            fill: false,
                            borderColor: 'rgba(54, 162, 235, 1)',
                            tension: 0.1
                        }]
                    }
                });
            }
            
            // Si estamos en la página de auditoría, inicializar el gráfico de actividad
            if (document.getElementById('activityChart')) {
                const activityCtx = document.getElementById('activityChart').getContext('2d');
                const activityChart = new Chart(activityCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb', 'Dom'],
                        datasets: [{
                            label: 'Inserciones',
                            data: [5, 8, 3, 7, 4, 0, 0],
                            backgroundColor: 'rgba(46, 204, 113, 0.5)',
                            borderColor: 'rgb(46, 204, 113)',
                            borderWidth: 1
                        }, {
                            label: 'Actualizaciones',
                            data: [12, 9, 15, 8, 14, 3, 1],
                            backgroundColor: 'rgba(52, 152, 219, 0.5)',
                            borderColor: 'rgb(52, 152, 219)',
                            borderWidth: 1
                        }, {
                            label: 'Eliminaciones',
                            data: [2, 1, 3, 0, 2, 0, 0],
                            backgroundColor: 'rgba(231, 76, 60, 0.5)',
                            borderColor: 'rgb(231, 76, 60)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }
            
            // Navegación del sidebar
            const sidebarLinks = document.querySelectorAll('.sidebar-link');
            const contentSections = document.querySelectorAll('.content-section');
            
            sidebarLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetSection = this.getAttribute('data-section');
                    
                    // Ocultar todas las secciones
                    contentSections.forEach(section => {
                        section.classList.add('hidden');
                    });
                    
                    // Mostrar la sección seleccionada
                    document.getElementById(targetSection).classList.remove('hidden');
                    
                    // Actualizar estado activo en el menú
                    sidebarLinks.forEach(link => {
                        link.classList.remove('active-menu', 'bg-indigo-700');
                    });
                    this.classList.add('active-menu', 'bg-indigo-700');
                });
            });
            
            // Submit form para añadir empleado
            const employeeForm = document.getElementById('employee-form');
            if (employeeForm) {
                employeeForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Mostrar indicador de carga
                    document.getElementById('loading-indicator').classList.remove('hidden');
                    
                    // Simular operación
                    setTimeout(function() {
                        // Ocultar indicador de carga
                        document.getElementById('loading-indicator').classList.add('hidden');
                        
                        // Mostrar toast de éxito
                        showToast('success', 'Empleado guardado correctamente');
                        
                        // Limpiar formulario
                        employeeForm.reset();
                    }, 1500);
                });
            }
        });
        
        // Funciones para modales
        function showTerminationModal() {
            document.getElementById('termination-modal').classList.remove('hidden');
        }
        
        function hideTerminationModal() {
            document.getElementById('termination-modal').classList.add('hidden');
        }
        
        function confirmTermination() {
            // Mostrar indicador de carga
            document.getElementById('loading-indicator').classList.remove('hidden');
            
            // Simular operación
            setTimeout(function() {
                // Ocultar indicador de carga
                document.getElementById('loading-indicator').classList.add('hidden');
                
                // Ocultar modal
                hideTerminationModal();
                
                // Mostrar toast de éxito
                showToast('success', 'Empleado dado de baja correctamente');
            }, 1500);
        }
        
        function showEditModal() {
            document.getElementById('edit-modal').classList.remove('hidden');
        }
        
        function hideEditModal() {
            document.getElementById('edit-modal').classList.add('hidden');
        }
        
        function saveEmployeeChanges() {
            // Mostrar indicador de carga
            document.getElementById('loading-indicator').classList.remove('hidden');
            
            // Simular operación
            setTimeout(function() {
                // Ocultar indicador de carga
                document.getElementById('loading-indicator').classList.add('hidden');
                
                // Ocultar modal
                hideEditModal();
                
                // Mostrar toast de éxito
                showToast('success', 'Datos del empleado actualizados correctamente');
            }, 1500);
        }
        
        function showLogDetailsModal() {
            document.getElementById('log-details-modal').classList.remove('hidden');
        }
        
        function hideLogDetailsModal() {
            document.getElementById('log-details-modal').classList.add('hidden');
        }
        
        function loadQuery(queryId) {
            let query = '';
            
            switch(queryId) {
                case 'salaryAboveAvg':
                    query = `SELECT 
    e.employee_id, 
    e.first_name, 
    e.last_name, 
    d.department_name, 
    e.salary 
FROM 
    employees e 
JOIN 
    departments d ON e.department_id = d.department_id 
WHERE 
    e.salary > (
        SELECT AVG(salary) 
        FROM employees
    )
ORDER BY 
    e.salary DESC;`;
                    break;
                case 'departmentStats':
                    query = `SELECT 
    d.department_name,
    COUNT(e.employee_id) as total_employees,
    ROUND(AVG(e.salary), 2) as avg_salary,
    MIN(e.salary) as min_salary,
    MAX(e.salary) as max_salary
FROM 
    departments d
LEFT JOIN 
    employees e ON d.department_id = e.department_id
GROUP BY 
    d.department_id
ORDER BY 
    total_employees DESC;`;
                    break;
                case 'newEmployees':
                    query = `SELECT 
    e.employee_id,
    e.first_name,
    e.last_name,
    d.department_name,
    e.position,
    e.hire_date
FROM 
    employees e
JOIN 
    departments d ON e.department_id = d.department_id
WHERE 
    e.hire_date >= DATE_SUB(CURDATE(), INTERVAL 90 DAY)
ORDER BY 
    e.hire_date DESC;`;
                    break;
                case 'topPerformers':
                    query = `SELECT 
    e.employee_id,
    CONCAT(e.first_name, ' ', e.last_name) as full_name,
    d.department_name,
    e.position,
    e.salary
FROM 
    employees e
JOIN 
    departments d ON e.department_id = d.department_id
ORDER BY 
    e.salary DESC
LIMIT 10;`;
                    break;
                case 'employeesNoManager':
                    query = `SELECT 
    e.employee_id,
    e.first_name,
    e.last_name,
    d.department_name,
    e.position
FROM 
    employees e
JOIN 
    departments d ON e.department_id = d.department_id
WHERE 
    e.manager_id IS NULL;`;
                    break;
                case 'departmentHierarchy':
                    query = `WITH RECURSIVE DeptHierarchy AS (
    SELECT 
        department_id, 
        name, 
        parent_id, 
        0 as level,
        CAST(name AS CHAR(1000)) as path
    FROM 
        departments
    WHERE 
        parent_id IS NULL
    UNION ALL
    SELECT 
        d.department_id, 
        d.name, 
        d.parent_id, 
        dh.level + 1,
        CONCAT(dh.path, ' > ', d.name)
    FROM 
        departments d
    JOIN 
        DeptHierarchy dh ON d.parent_id = dh.department_id
)
SELECT 
    department_id, 
    CONCAT(REPEAT('    ', level), name) as department,
    level,
    path
FROM 
    DeptHierarchy
ORDER BY 
    path;`;
                    break;
            }
            
            document.getElementById('query').value = query;
        }
        
        function loadProcedureParams() {
            const procedure = document.getElementById('procedure').value;
            const paramsContainer = document.getElementById('params-container');
            const procedureDescription = document.getElementById('procedure-description');
            const executeBtn = document.getElementById('execute-procedure-btn');
            
            if (!procedure) {
                document.getElementById('procedure-params').classList.add('hidden');
                procedureDescription.innerHTML = 'Seleccione un procedimiento para ver su descripción y parámetros.';
                executeBtn.disabled = true;
                return;
            }
            
            document.getElementById('procedure-params').classList.remove('hidden');
            executeBtn.disabled = false;
            
            let description = '';
            let params = '';
            
            switch(procedure) {
                case 'calculate_salary_increase':
                    description = 'Este procedimiento calcula y aplica aumentos salariales a los empleados basándose en criterios como antigüedad, departamento y evaluación de desempeño.';
                    params = `
                        <div class="mb-3">
                            <label for="param-department" class="block text-sm font-medium text-gray-700 mb-1">Departamento</label>
                            <select id="param-department" name="param-department" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                <option value="ALL">Todos los departamentos</option>
                                <option value="IT">IT</option>
                                <option value="RRHH">Recursos Humanos</option>
                                <option value="VENTAS">Ventas</option>
                                <option value="MARKETING">Marketing</option>
                                <option value="FINANZAS">Finanzas</option>
                                <option value="OPERACIONES">Operaciones</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="param-percentage" class="block text-sm font-medium text-gray-700 mb-1">Porcentaje de Aumento (%)</label>
                            <input type="number" id="param-percentage" name="param-percentage" min="0" max="50" value="5" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </div>
                        <div class="mb-3">
                            <label for="param-min-tenure" class="block text-sm font-medium text-gray-700 mb-1">Antigüedad Mínima (meses)</label>
                            <input type="number" id="param-min-tenure" name="param-min-tenure" min="0" value="6" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </div>
                    `;
                    break;
                case 'update_employee_department':
                    description = 'Este procedimiento actualiza el departamento de un empleado y realiza los ajustes necesarios en registros relacionados como supervisión y proyectos.';
                    params = `
                        <div class="mb-3">
                            <label for="param-employee-id" class="block text-sm font-medium text-gray-700 mb-1">ID de Empleado</label>
                            <select id="param-employee-id" name="param-employee-id" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                <option value="">Seleccionar empleado</option>
                                <option value="EMP001">EMP001 - María García</option>
                                <option value="EMP002">EMP002 - Juan Pérez</option>
                                <option value="EMP003">EMP003 - Ana Martínez</option>
                                <option value="EMP004">EMP004 - Carlos López</option>
                                <option value="EMP005">EMP005 - Laura Sánchez</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="param-new-department" class="block text-sm font-medium text-gray-700 mb-1">Nuevo Departamento</label>
                            <select id="param-new-department" name="param-new-department" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                <option value="">Seleccionar departamento</option>
                                <option value="IT">IT</option>
                                <option value="RRHH">Recursos Humanos</option>
                                <option value="VENTAS">Ventas</option>
                                <option value="MARKETING">Marketing</option>
                                <option value="FINANZAS">Finanzas</option>
                                <option value="OPERACIONES">Operaciones</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="param-new-position" class="block text-sm font-medium text-gray-700 mb-1">Nuevo Cargo (opcional)</label>
                            <input type="text" id="param-new-position" name="param-new-position" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </div>
                        <div class="mb-3">
                            <label for="param-effective-date" class="block text-sm font-medium text-gray-700 mb-1">Fecha Efectiva</label>
                            <input type="date" id="param-effective-date" name="param-effective-date" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </div>
                    `;
                    break;
                case 'generate_employee_report':
                    description = 'Este procedimiento genera un reporte completo con información histórica y actual del empleado, incluyendo cambios de salario, departamento y evaluaciones.';
                    params = `
                        <div class="mb-3">
                            <label for="param-employee-id-report" class="block text-sm font-medium text-gray-700 mb-1">ID de Empleado</label>
                            <select id="param-employee-id-report" name="param-employee-id-report" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                <option value="">Seleccionar empleado</option>
                                <option value="EMP001">EMP001 - María García</option>
                                <option value="EMP002">EMP002 - Juan Pérez</option>
                                <option value="EMP003">EMP003 - Ana Martínez</option>
                                <option value="EMP004">EMP004 - Carlos López</option>
                                <option value="EMP005">EMP005 - Laura Sánchez</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="param-report-type" class="block text-sm font-medium text-gray-700 mb-1">Tipo de Reporte</label>
                            <select id="param-report-type" name="param-report-type" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                <option value="FULL">Reporte Completo</option>
                                <option value="SUMMARY">Resumen</option>
                                <option value="SALARY">Historial de Salario</option>
                                <option value="POSITION">Historial de Cargo</option>
                                <option value="EVAL">Evaluaciones</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="param-start-date" class="block text-sm font-medium text-gray-700 mb-1">Fecha Inicio</label>
                            <input type="date" id="param-start-date" name="param-start-date" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </div>
                        <div class="mb-3">
                            <label for="param-end-date" class="block text-sm font-medium text-gray-700 mb-1">Fecha Fin</label>
                            <input type="date" id="param-end-date" name="param-end-date" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </div>
                    `;
                    break;
                case 'transfer_employees':
                    description = 'Este procedimiento transfiere múltiples empleados de un departamento a otro, actualizando todos los registros relacionados y manteniendo la jerarquía organizacional.';
                    params = `
                        <div class="mb-3">
                            <label for="param-source-dept" class="block text-sm font-medium text-gray-700 mb-1">Departamento Origen</label>
                            <select id="param-source-dept" name="param-source-dept" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                <option value="">Seleccionar departamento</option>
                                <option value="IT">IT</option>
                                <option value="RRHH">Recursos Humanos</option>
                                <option value="VENTAS">Ventas</option>
                                <option value="MARKETING">Marketing</option>
                                <option value="FINANZAS">Finanzas</option>
                                <option value="OPERACIONES">Operaciones</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="param-target-dept" class="block text-sm font-medium text-gray-700 mb-1">Departamento Destino</label>
                            <select id="param-target-dept" name="param-target-dept" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                <option value="">Seleccionar departamento</option>
                                <option value="IT">IT</option>
                                <option value="RRHH">Recursos Humanos</option>
                                <option value="VENTAS">Ventas</option>
                                <option value="MARKETING">Marketing</option>
                                <option value="FINANZAS">Finanzas</option>
                                <option value="OPERACIONES">Operaciones</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="param-transfer-all" class="flex items-center">
                                <input type="checkbox" id="param-transfer-all" name="param-transfer-all" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
                                <span class="ml-2 text-sm text-gray-700">Transferir todos los empleados</span>
                            </label>
                        </div>
                        <div class="mb-3" id="employee-selection-container">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Seleccionar Empleados</label>
                            <div class="max-h-40 overflow-y-auto border border-gray-300 rounded p-2">
                                <div class="mb-1">
                                    <label class="inline-flex items-center">
                                        <input type="checkbox" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded" name="employees[]" value="EMP001">
                                        <span class="ml-2 text-sm text-gray-700">María García (EMP001)</span>
                                    </label>
                                </div>
                                <div class="mb-1">
                                    <label class="inline-flex items-center">
                                        <input type="checkbox" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded" name="employees[]" value="EMP002">
                                        <span class="ml-2 text-sm text-gray-700">Juan Pérez (EMP002)</span>
                                    </label>
                                </div>
                                <div class="mb-1">
                                    <label class="inline-flex items-center">
                                        <input type="checkbox" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded" name="employees[]" value="EMP003">
                                        <span class="ml-2 text-sm text-gray-700">Ana Martínez (EMP003)</span>
                                    </label>
                                </div>
                                <div class="mb-1">
                                    <label class="inline-flex items-center">
                                        <input type="checkbox" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded" name="employees[]" value="EMP004">
                                        <span class="ml-2 text-sm text-gray-700">Carlos López (EMP004)</span>
                                    </label>
                                </div>
                                <div>
                                    <label class="inline-flex items-center">
                                        <input type="checkbox" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded" name="employees[]" value="EMP005">
                                        <span class="ml-2 text-sm text-gray-700">Laura Sánchez (EMP005)</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="param-effective-date-transfer" class="block text-sm font-medium text-gray-700 mb-1">Fecha Efectiva</label>
                            <input type="date" id="param-effective-date-transfer" name="param-effective-date-transfer" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </div>
                    `;
                    break;
                case 'employee_performance_review':
                    description = 'Este procedimiento registra una evaluación de desempeño para un empleado y actualiza todas las métricas relacionadas como salario, bonificaciones y plan de desarrollo.';
                    params = `
                        <div class="mb-3">
                            <label for="param-employee-id-eval" class="block text-sm font-medium text-gray-700 mb-1">ID de Empleado</label>
                            <select id="param-employee-id-eval" name="param-employee-id-eval" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                <option value="">Seleccionar empleado</option>
                                <option value="EMP001">EMP001 - María García</option>
                                <option value="EMP002">EMP002 - Juan Pérez</option>
                                <option value="EMP003">EMP003 - Ana Martínez</option>
                                <option value="EMP004">EMP004 - Carlos López</option>
                                <option value="EMP005">EMP005 - Laura Sánchez</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="param-review-date" class="block text-sm font-medium text-gray-700 mb-1">Fecha de Evaluación</label>
                            <input type="date" id="param-review-date" name="param-review-date" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </div>
                        <div class="mb-3">
                            <label for="param-rating" class="block text-sm font-medium text-gray-700 mb-1">Calificación (1-5)</label>
                            <input type="number" id="param-rating" name="param-rating" min="1" max="5" value="3" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </div>
                        <div class="mb-3">
                            <label for="param-reviewer" class="block text-sm font-medium text-gray-700 mb-1">Evaluador</label>
                            <select id="param-reviewer" name="param-reviewer" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                                <option value="">Seleccionar evaluador</option>
                                <option value="EMP001">EMP001 - María García</option>
                                <option value="EMP002">EMP002 - Juan Pérez</option>
                                <option value="EMP003">EMP003 - Ana Martínez</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="param-comments" class="block text-sm font-medium text-gray-700 mb-1">Comentarios</label>
                            <textarea id="param-comments" name="param-comments" rows="3" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="param-salary-adjust" class="block text-sm font-medium text-gray-700 mb-1">Ajuste de Salario (%)</label>
                            <input type="number" id="param-salary-adjust" name="param-salary-adjust" value="0" class="w-full p-2 border border-gray-300 rounded focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </div>
                    `;
                    break;
            }
            
            procedureDescription.innerHTML = description;
            paramsContainer.innerHTML = params;
            
            // Añadir listener para checkbox de transferir todos
            if (procedure === 'transfer_employees') {
                document.getElementById('param-transfer-all').addEventListener('change', function() {
                    const container = document.getElementById('employee-selection-container');
                    if (this.checked) {
                        container.classList.add('opacity-50', 'pointer-events-none');
                    } else {
                        container.classList.remove('opacity-50', 'pointer-events-none');
                    }
                });
            }
        }
        
        function selectProcedure(procedureId) {
            document.getElementById('procedure').value = procedureId;
            loadProcedureParams();
        }
        
        function showCreateProcedureModal() {
            // Esta funcionalidad se implementaría en una versión futura
            showToast('info', 'Funcionalidad en desarrollo');
        }
        
        function generateReport(reportType) {
            // Mostrar indicador de carga
            document.getElementById('loading-indicator').classList.remove('hidden');
            
            // Simular operación
            setTimeout(function() {
                // Ocultar indicador de carga
                document.getElementById('loading-indicator').classList.add('hidden');
                
                // Mostrar toast de éxito
                showToast('success', 'Reporte generado correctamente');
            }, 1500);
        }
        
        // Función para mostrar toast
        function showToast(type, message) {
            const toast = document.getElementById('toast');
            const toastSuccess = document.getElementById('toast-success');
            const toastError = document.getElementById('toast-error');
            const toastSuccessMessage = document.getElementById('toast-success-message');
            const toastErrorMessage = document.getElementById('toast-error-message');
            
            // Ocultar todos los tipos de toast primero
            toastSuccess.classList.add('hidden');
            toastError.classList.add('hidden');
            
            // Mostrar el tipo específico
            if (type === 'success') {
                toastSuccessMessage.textContent = message;
                toastSuccess.classList.remove('hidden');
            } else if (type === 'error') {
                toastErrorMessage.textContent = message;
                toastError.classList.remove('hidden');
            } else if (type === 'info') {
                toastSuccessMessage.textContent = message;
                toastSuccess.classList.remove('hidden');
            }
            
            // Mostrar toast
            toast.classList.remove('hidden');
            
            // Ocultar después de 3 segundos
            setTimeout(function() {
                toast.classList.add('hidden');
            }, 3000);
        }
    </script>
</body>
</html>